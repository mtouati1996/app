(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{Tu7o:function(t,e,i){"use strict";i.r(e),i.d(e,"FormateurModule",(function(){return ee}));var c=i("ofXK"),o=i("fXoL"),n=i("tyNb");let r=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Pb({type:t,selectors:[["app-formateur-inactive"]],decls:4,vars:0,consts:[[1,"content-wrapper"],[1,"content"],[1,"container-fluid"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"section",1),o.bc(2,"div",2),o.Wb(3,"router-outlet"),o.ac(),o.ac(),o.ac())},directives:[n.h],styles:[".active[_ngcontent-%COMP%]{font-weight:550}"]}),t})();var a=i("PSD3"),s=i.n(a),l=i("5eHb"),u=i("KMDr");function f(t,e){1&t&&(o.bc(0,"button",15),o.Wb(1,"i",16),o.Rc(2," Retour "),o.ac())}function m(t,e){1&t&&(o.bc(0,"button",17),o.Wb(1,"i",16),o.Rc(2," Retour "),o.ac())}function d(t,e){1&t&&(o.bc(0,"p",11),o.bc(1,"b"),o.Rc(2,"Certification: "),o.ac(),o.ac())}function b(t,e){if(1&t){const t=o.cc();o.bc(0,"p",10),o.Rc(1),o.bc(2,"span"),o.bc(3,"i",18),o.mc("click",(function(){o.Gc(t);const i=e.$implicit;return o.pc().downloadCertif(i.nom_certif,i.email)})),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Hb(1),o.Tc(" ",null==t?null:t.nom_certif," ")}}function h(t,e){1&t&&(o.bc(0,"p",11),o.bc(1,"b"),o.Rc(2,"CV: "),o.ac(),o.ac())}function p(t,e){if(1&t){const t=o.cc();o.bc(0,"p",10),o.Rc(1),o.bc(2,"span"),o.bc(3,"i",18),o.mc("click",(function(){o.Gc(t);const i=e.$implicit;return o.pc().downloadCv(i.nom_cv,i.email)})),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Hb(1),o.Tc(" ",null==t?null:t.nom_cv," ")}}let w=(()=>{class t{constructor(t,e,i){this.toastr=t,this.formateurService=e,this.route=i}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.fetchFormateur(this.id),this.fetchCertifFormateur(this.id),this.fetchCvFormateur(this.id)}fetchFormateur(t){this.formateurService.getFormateurById(t).subscribe(t=>{this.Result=t.result[0]})}fetchCertifFormateur(t){this.formateurService.getAllFormateurCertifById(t).subscribe(t=>{this.allCertif=t.result})}fetchCvFormateur(t){this.formateurService.getAllFormateurCvById(t).subscribe(t=>{this.allCv=t.result})}downloadCertif(t,e){s.a.fire({title:"\xcates vous s\xfbr de vouloir t\xe9l\xe9charger cette certification ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Oui",denyButtonText:"Non"}).then(i=>{i.isConfirmed&&this.formateurService.downloadCertifById(t,e).subscribe(e=>{const i=new Blob([e],{type:e.type}),c=window.URL.createObjectURL(i),o=document.createElement("a");o.href=c,o.download=t,o.click()})})}downloadCv(t,e){s.a.fire({title:"\xcates vous s\xfbr de vouloir t\xe9l\xe9charger ce CV ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Oui",denyButtonText:"Non"}).then(i=>{i.isConfirmed&&this.formateurService.downloadCvById(t,e).subscribe(e=>{const i=new Blob([e],{type:e.type}),c=window.URL.createObjectURL(i),o=document.createElement("a");o.href=c,o.download=t,o.click()})})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(l.b),o.Vb(u.a),o.Vb(n.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-show-examinateur"]],decls:25,vars:10,consts:[[1,"container-fluid"],[1,"text-right","mt-5",2,"padding-top","50px !important"],["routerLink","/admin/formateur/list-examinateur","class","btn btn-success mr-2",4,"ngIf"],["routerLink","/admin/formateur/inactive/list-examinateur-inactive","class","btn btn-success mr-2",4,"ngIf"],[1,"row","mb-2","mt-4"],[1,"col-12","col-sm-6","col-md-12","col-lg-12"],[1,"card","bg-light"],[1,"card-body","pt-3"],[1,"row"],[1,"col-7"],[1,"lead"],[1,"text-muted","lead","text-sm"],["class","text-muted lead text-sm",4,"ngIf"],["class"," lead",4,"ngFor","ngForOf"],["class","lead",4,"ngFor","ngForOf"],["routerLink","/admin/formateur/list-examinateur",1,"btn","btn-success","mr-2"],[1,"fas","fa-arrow-alt-circle-left"],["routerLink","/admin/formateur/inactive/list-examinateur-inactive",1,"btn","btn-success","mr-2"],[1,"fas","fa-download","text-success","ml-4",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.Pc(2,f,3,0,"button",2),o.Pc(3,m,3,0,"button",3),o.ac(),o.bc(4,"div",4),o.bc(5,"div",5),o.bc(6,"div",6),o.bc(7,"div",7),o.bc(8,"div",8),o.bc(9,"div",9),o.bc(10,"h2",10),o.bc(11,"b"),o.Rc(12),o.ac(),o.ac(),o.bc(13,"p",11),o.bc(14,"b"),o.Rc(15,"\xc9mail: "),o.ac(),o.Rc(16),o.ac(),o.bc(17,"p",11),o.bc(18,"b"),o.Rc(19,"T\xe9l\xe9phone: "),o.ac(),o.Rc(20),o.ac(),o.Pc(21,d,3,0,"p",12),o.Pc(22,b,4,1,"p",13),o.Pc(23,h,3,0,"p",12),o.Pc(24,p,4,1,"p",14),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Hb(2),o.wc("ngIf","oui"===(null==e.Result?null:e.Result.examinateur)),o.Hb(1),o.wc("ngIf","etait"===(null==e.Result?null:e.Result.examinateur)),o.Hb(9),o.Uc("",null==e.Result?null:e.Result.prenom," ",null==e.Result?null:e.Result.nom,""),o.Hb(4),o.Tc(" ",null==e.Result?null:e.Result.email," "),o.Hb(4),o.Tc(" ",null==e.Result?null:e.Result.tele," "),o.Hb(1),o.wc("ngIf",e.allCertif),o.Hb(1),o.wc("ngForOf",e.allCertif),o.Hb(1),o.wc("ngIf",e.allCv),o.Hb(1),o.wc("ngForOf",e.allCv))},directives:[c.n,c.m,n.d],styles:[".lead[_ngcontent-%COMP%]{font-size:.9rem;font-weight:300}@media(max-width:768px){.lead[_ngcontent-%COMP%]{font-size:.8rem}}"]}),t})();var C=i("mrSG"),v=i("3Pt+"),g=i("OtHt"),L=i("rMZv"),x=i("cZdB");const O=function(t){return["/admin/formateur/inactive/show-examinateur",t]};function R(t,e){if(1&t){const t=o.cc();o.bc(0,"tr"),o.bc(1,"td"),o.Rc(2),o.ac(),o.bc(3,"td"),o.Rc(4),o.ac(),o.bc(5,"td"),o.Rc(6),o.ac(),o.bc(7,"td"),o.Rc(8),o.ac(),o.bc(9,"td"),o.bc(10,"button",15),o.Wb(11,"i",16),o.ac(),o.bc(12,"button",17),o.mc("click",(function(){o.Gc(t);const i=e.$implicit;return o.pc(2).ExaminateurReturnActive(i.id)})),o.Wb(13,"i",18),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Hb(2),o.Sc(t.nom),o.Hb(2),o.Sc(t.prenom),o.Hb(2),o.Sc(t.email),o.Hb(2),o.Sc(t.tele),o.Hb(2),o.wc("routerLink",o.Bc(5,O,t.id))}}const y=function(){return{x:"800px"}};function F(t,e){if(1&t){const t=o.cc();o.bc(0,"nz-table",10,11),o.qc(2,"filter"),o.bc(3,"thead"),o.bc(4,"tr"),o.bc(5,"th"),o.Rc(6," Pr\xe9nom "),o.ac(),o.bc(7,"th"),o.Rc(8,"Nom"),o.ac(),o.bc(9,"th"),o.Rc(10,"Email"),o.ac(),o.bc(11,"th"),o.Rc(12,"T\xe9l\xe9phone"),o.ac(),o.bc(13,"th",12),o.Rc(14,"Actions"),o.ac(),o.ac(),o.ac(),o.bc(15,"tbody"),o.Pc(16,R,14,7,"tr",13),o.ac(),o.bc(17,"tfoot"),o.bc(18,"tr"),o.bc(19,"td"),o.bc(20,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().firstname=e}))("keyup",(function(){return o.Gc(t),o.pc().searchFirstName()})),o.ac(),o.ac(),o.bc(21,"td"),o.bc(22,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().lasttname=e}))("keyup",(function(){return o.Gc(t),o.pc().searchLasttName()})),o.ac(),o.ac(),o.bc(23,"td"),o.bc(24,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().email=e}))("keyup",(function(){return o.Gc(t),o.pc().searchEmail()})),o.ac(),o.ac(),o.bc(25,"td"),o.bc(26,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().tele=e}))("keyup",(function(){return o.Gc(t),o.pc().searchTele()})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=o.Fc(1),e=o.pc();o.wc("nzData",o.sc(2,9,e.listOfDisplayData,e.term))("nzScroll",o.Ac(12,y))("nzPageSize",10)("nzNoResult","Pas de r\xe9sultat"),o.Hb(16),o.wc("ngForOf",t.data),o.Hb(4),o.wc("ngModel",e.firstname),o.Hb(2),o.wc("ngModel",e.lasttname),o.Hb(2),o.wc("ngModel",e.email),o.Hb(2),o.wc("ngModel",e.tele)}}let z=(()=>{class t{constructor(t,e){this.formateurService=t,this.toastr=e,this.term="",this.firstname="",this.lasttname="",this.email="",this.tele="",this.fonction="",this.verifDataReady=!0,this.tableReady=!1}ngOnInit(){this.fetchExaminateur()}ExaminateurReturnActive(t){s.a.fire({title:"\xcates vous s\xfbr de vouloir activer cet examinateur ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Yes",denyButtonText:"No"}).then(e=>{e.isConfirmed&&this.formateurService.ExaminateurReturnActive(t).subscribe(t=>Object(C.b)(this,void 0,void 0,(function*(){t.success?(this.toastr.success("Succ\xe8s"),this.fetchExaminateur()):this.toastr.error("Erreur",t.error)})))})}fetchExaminateur(){this.formateurService.getAllExaminateurInactive().subscribe(t=>{this.listOfData=t.results,this.tableReady=!0,this.verifDataReady=!1,this.listOfDisplayData=[...this.listOfData]})}searchFirstName(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase()))}searchLasttName(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase()))}searchEmail(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase()))}searchTele(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase()))}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(u.a),o.Vb(l.b))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-list-examinateur-inactive"]],decls:13,vars:4,consts:[[1,"row",2,"padding-top","50px !important"],[1,"col-12"],[1,"container"],[1,"mb-5"],[1,"row"],[1,"col-sm-3"],[1,"form-inline","mb-2"],["type","text","name","term","placeholder","Recherche",1,"form-control",3,"ngModel","ngModelChange"],["nzTableLayout","fixed",3,"nzData","nzScroll","nzPageSize","nzNoResult",4,"ngIf"],[3,"nzActive","nzLoading"],["nzTableLayout","fixed",3,"nzData","nzScroll","nzPageSize","nzNoResult"],["nzTable",""],["nzWidth","20%"],[4,"ngFor","ngForOf"],["nz-input","","placeholder","Recherche","nzSize","default",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","keyup"],[1,"btn","btn-primary","mr-2","btn-sm",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"btn","btn-warning","text-white","btn-sm",3,"click"],[1,"fas","fa-edit"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",2),o.bc(3,"h4",3),o.Rc(4,"Examinateurs Inactifs"),o.ac(),o.bc(5,"div"),o.bc(6,"div",4),o.bc(7,"div",5),o.bc(8,"div",6),o.bc(9,"input",7),o.mc("ngModelChange",(function(t){return e.term=t})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(10,"div"),o.Pc(11,F,27,13,"nz-table",8),o.Wb(12,"nz-skeleton",9),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Hb(9),o.wc("ngModel",e.term),o.Hb(2),o.wc("ngIf",e.tableReady),o.Hb(1),o.wc("nzActive",!0)("nzLoading",e.verifDataReady))},directives:[v.d,v.m,v.p,c.n,g.a,L.c,L.g,L.h,L.b,L.f,L.e,c.m,n.d],pipes:[x.a],styles:["tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.8rem}@media(max-width:768px){tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.6rem}.input-hidden[_ngcontent-%COMP%]{display:none}}"]}),t})();var P=i("/AG3");const H=function(t){return["/admin/formateur/show-examinateur",t]};function S(t,e){if(1&t){const t=o.cc();o.bc(0,"tr"),o.bc(1,"td"),o.Rc(2),o.ac(),o.bc(3,"td"),o.Rc(4),o.ac(),o.bc(5,"td"),o.Rc(6),o.ac(),o.bc(7,"td"),o.Rc(8),o.ac(),o.bc(9,"td"),o.bc(10,"button",15),o.Wb(11,"i",16),o.ac(),o.bc(12,"button",17),o.mc("click",(function(){o.Gc(t);const i=e.$implicit;return o.pc(2).deleteExaminateur(i.id)})),o.Wb(13,"i",18),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Hb(2),o.Sc(t.nom),o.Hb(2),o.Sc(t.prenom),o.Hb(2),o.Sc(t.email),o.Hb(2),o.Sc(t.tele),o.Hb(2),o.wc("routerLink",o.Bc(5,H,t.id))}}const D=function(){return{x:"800px"}};function M(t,e){if(1&t){const t=o.cc();o.bc(0,"nz-table",10,11),o.qc(2,"filter"),o.bc(3,"thead"),o.bc(4,"tr"),o.bc(5,"th"),o.Rc(6," Pr\xe9nom "),o.ac(),o.bc(7,"th"),o.Rc(8,"Nom"),o.ac(),o.bc(9,"th"),o.Rc(10,"Email"),o.ac(),o.bc(11,"th"),o.Rc(12,"T\xe9l\xe9phone"),o.ac(),o.bc(13,"th",12),o.Rc(14,"Actions"),o.ac(),o.ac(),o.ac(),o.bc(15,"tbody"),o.Pc(16,S,14,7,"tr",13),o.ac(),o.bc(17,"tfoot"),o.bc(18,"tr"),o.bc(19,"td"),o.bc(20,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().firstname=e}))("keyup",(function(){return o.Gc(t),o.pc().searchFirstName()})),o.ac(),o.ac(),o.bc(21,"td"),o.bc(22,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().lasttname=e}))("keyup",(function(){return o.Gc(t),o.pc().searchLasttName()})),o.ac(),o.ac(),o.bc(23,"td"),o.bc(24,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().email=e}))("keyup",(function(){return o.Gc(t),o.pc().searchEmail()})),o.ac(),o.ac(),o.bc(25,"td"),o.bc(26,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().tele=e}))("keyup",(function(){return o.Gc(t),o.pc().searchTele()})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=o.Fc(1),e=o.pc();o.wc("nzData",o.sc(2,9,e.listOfDisplayData,e.term))("nzScroll",o.Ac(12,D))("nzPageSize",10)("nzNoResult","Pas de r\xe9sultat"),o.Hb(16),o.wc("ngForOf",t.data),o.Hb(4),o.wc("ngModel",e.firstname),o.Hb(2),o.wc("ngModel",e.lasttname),o.Hb(2),o.wc("ngModel",e.email),o.Hb(2),o.wc("ngModel",e.tele)}}let k=(()=>{class t{constructor(t,e,i){this.formateurService=t,this.utilisateurService=e,this.toastr=i,this.term="",this.firstname="",this.lasttname="",this.email="",this.tele="",this.fonction="",this.verifDataReady=!0,this.tableReady=!1}ngOnInit(){this.fetchExaminateur()}deleteExaminateur(t){s.a.fire({title:"\xcates vous s\xfbr de vouloir desactiver cet examinateur ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Oui",denyButtonText:"Non"}).then(e=>{e.isConfirmed&&this.utilisateurService.deleteUtilisateurExaminateur(t).subscribe(t=>{t.success?(this.toastr.success("Succ\xe8s"),this.fetchExaminateur()):this.toastr.error("Erreur",t.error)})})}fetchExaminateur(){this.formateurService.getAllExaminateur().subscribe(t=>{this.listOfData=t.results,this.tableReady=!0,this.verifDataReady=!1,this.listOfDisplayData=[...this.listOfData]})}searchFirstName(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase()))}searchLasttName(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase()))}searchEmail(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase()))}searchTele(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase()))}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(u.a),o.Vb(P.a),o.Vb(l.b))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-list-examinateur"]],decls:13,vars:4,consts:[[1,"row",2,"padding-top","50px !important"],[1,"col-12"],[1,"container"],[1,"mb-5","text-dark"],[1,"row"],[1,"col-sm-3"],[1,"form-inline","mb-2"],["type","text","name","term","placeholder","Recherche",1,"form-control",3,"ngModel","ngModelChange"],["nzTableLayout","fixed",3,"nzData","nzScroll","nzPageSize","nzNoResult",4,"ngIf"],[3,"nzActive","nzLoading"],["nzTableLayout","fixed",3,"nzData","nzScroll","nzPageSize","nzNoResult"],["nzTable",""],["nzWidth","20%"],[4,"ngFor","ngForOf"],["nz-input","","placeholder","Recherche","nzSize","default",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","keyup"],[1,"btn","btn-primary","mr-2","btn-sm",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",2),o.bc(3,"h4",3),o.Rc(4,"Examinateurs Actifs"),o.ac(),o.bc(5,"div"),o.bc(6,"div",4),o.bc(7,"div",5),o.bc(8,"div",6),o.bc(9,"input",7),o.mc("ngModelChange",(function(t){return e.term=t})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(10,"div"),o.Pc(11,M,27,13,"nz-table",8),o.Wb(12,"nz-skeleton",9),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Hb(9),o.wc("ngModel",e.term),o.Hb(2),o.wc("ngIf",e.tableReady),o.Hb(1),o.wc("nzActive",!0)("nzLoading",e.verifDataReady))},directives:[v.d,v.m,v.p,c.n,g.a,L.c,L.g,L.h,L.b,L.f,L.e,c.m,n.d],pipes:[x.a],styles:["tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.8rem}@media(max-width:768px){tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.6rem}.input-hidden[_ngcontent-%COMP%]{display:none}}"]}),t})();const I=function(t){return["/admin/formateur/show-formateur",t]};function A(t,e){if(1&t){const t=o.cc();o.bc(0,"tr"),o.bc(1,"td"),o.Rc(2),o.ac(),o.bc(3,"td"),o.Rc(4),o.ac(),o.bc(5,"td"),o.Rc(6),o.ac(),o.bc(7,"td"),o.Rc(8),o.ac(),o.bc(9,"td"),o.Rc(10),o.ac(),o.bc(11,"td"),o.Rc(12),o.ac(),o.bc(13,"td"),o.Rc(14),o.ac(),o.bc(15,"td"),o.bc(16,"button",15),o.Wb(17,"i",16),o.ac(),o.bc(18,"button",17),o.mc("click",(function(){o.Gc(t);const i=e.$implicit;return o.pc(2).FormateurReturnActive(i.id)})),o.Wb(19,"i",18),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Hb(2),o.Sc(t.nom),o.Hb(2),o.Sc(t.prenom),o.Hb(2),o.Sc(t.email),o.Hb(2),o.Sc(t.tele),o.Hb(2),o.Sc(t.fonction),o.Hb(2),o.Sc(t.role),o.Hb(2),o.Sc(t.roleAdmin),o.Hb(2),o.wc("routerLink",o.Bc(8,I,t.id))}}const B=function(){return{x:"800px"}};function E(t,e){if(1&t){const t=o.cc();o.bc(0,"nz-table",10,11),o.qc(2,"filter"),o.bc(3,"thead"),o.bc(4,"tr"),o.bc(5,"th"),o.Rc(6," Pr\xe9nom "),o.ac(),o.bc(7,"th"),o.Rc(8,"Nom"),o.ac(),o.bc(9,"th"),o.Rc(10,"Email"),o.ac(),o.bc(11,"th"),o.Rc(12,"T\xe9l\xe9phone"),o.ac(),o.bc(13,"th"),o.Rc(14,"Fonction"),o.ac(),o.bc(15,"th"),o.Rc(16,"Statut"),o.ac(),o.bc(17,"th"),o.Rc(18,"R\xf4le"),o.ac(),o.bc(19,"th",12),o.Rc(20,"Actions"),o.ac(),o.ac(),o.ac(),o.bc(21,"tbody"),o.Pc(22,A,20,10,"tr",13),o.ac(),o.bc(23,"tfoot"),o.bc(24,"tr"),o.bc(25,"td"),o.bc(26,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().firstname=e}))("keyup",(function(){return o.Gc(t),o.pc().searchFirstName()})),o.ac(),o.ac(),o.bc(27,"td"),o.bc(28,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().lasttname=e}))("keyup",(function(){return o.Gc(t),o.pc().searchLasttName()})),o.ac(),o.ac(),o.bc(29,"td"),o.bc(30,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().email=e}))("keyup",(function(){return o.Gc(t),o.pc().searchEmail()})),o.ac(),o.ac(),o.bc(31,"td"),o.bc(32,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().tele=e}))("keyup",(function(){return o.Gc(t),o.pc().searchTele()})),o.ac(),o.ac(),o.bc(33,"td"),o.bc(34,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().fonction=e}))("keyup",(function(){return o.Gc(t),o.pc().searchFonction()})),o.ac(),o.ac(),o.bc(35,"td"),o.bc(36,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().role=e}))("keyup",(function(){return o.Gc(t),o.pc().searchRole()})),o.ac(),o.ac(),o.bc(37,"td"),o.bc(38,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().roleAdmin=e}))("keyup",(function(){return o.Gc(t),o.pc().searchRoleAdmin()})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=o.Fc(1),e=o.pc();o.wc("nzData",o.sc(2,12,e.listOfDisplayData,e.term))("nzScroll",o.Ac(15,B))("nzPageSize",10)("nzNoResult","Pas de r\xe9sultat"),o.Hb(22),o.wc("ngForOf",t.data),o.Hb(4),o.wc("ngModel",e.firstname),o.Hb(2),o.wc("ngModel",e.lasttname),o.Hb(2),o.wc("ngModel",e.email),o.Hb(2),o.wc("ngModel",e.tele),o.Hb(2),o.wc("ngModel",e.fonction),o.Hb(2),o.wc("ngModel",e.role),o.Hb(2),o.wc("ngModel",e.roleAdmin)}}let G=(()=>{class t{constructor(t,e){this.formateurService=t,this.toastr=e,this.term="",this.firstname="",this.lasttname="",this.email="",this.tele="",this.fonction="",this.roleAdmin="",this.role="",this.verifDataReady=!0,this.tableReady=!1}ngOnInit(){this.fetchFormateur()}FormateurReturnActive(t){s.a.fire({title:"\xcates vous s\xfbr de vouloir activer cet instructeur ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Yes",denyButtonText:"No"}).then(e=>{e.isConfirmed&&this.formateurService.formateurReturnActive(t).subscribe(t=>Object(C.b)(this,void 0,void 0,(function*(){t.success?(this.toastr.success("Succ\xe8s"),this.fetchFormateur()):this.toastr.error("Erreur",t.error)})))})}fetchFormateur(){this.formateurService.getAllFormateurInactive().subscribe(t=>{this.listOfData=t.results,this.tableReady=!0,this.verifDataReady=!1,this.listOfDisplayData=[...this.listOfData]})}searchFirstName(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchLasttName(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchEmail(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchTele(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchFonction(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchRole(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchRoleAdmin(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(u.a),o.Vb(l.b))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-list-formateur-inactive"]],decls:13,vars:4,consts:[[1,"row",2,"padding-top","50px !important"],[1,"col-12"],[1,"container"],[1,"mb-5"],[1,"row"],[1,"col-sm-3"],[1,"form-inline","mb-2"],["type","text","name","term","placeholder","Recherche",1,"form-control",3,"ngModel","ngModelChange"],["nzTableLayout","fixed",3,"nzData","nzScroll","nzPageSize","nzNoResult",4,"ngIf"],[3,"nzActive","nzLoading"],["nzTableLayout","fixed",3,"nzData","nzScroll","nzPageSize","nzNoResult"],["nzTable",""],["nzWidth","20%"],[4,"ngFor","ngForOf"],["nz-input","","placeholder","Recherche","nzSize","default",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","keyup"],[1,"btn","btn-primary","mr-2","btn-sm",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"btn","btn-warning","text-white","btn-sm",3,"click"],[1,"fas","fa-edit"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",2),o.bc(3,"h4",3),o.Rc(4,"Instructeurs Inactifs"),o.ac(),o.bc(5,"div"),o.bc(6,"div",4),o.bc(7,"div",5),o.bc(8,"div",6),o.bc(9,"input",7),o.mc("ngModelChange",(function(t){return e.term=t})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(10,"div"),o.Pc(11,E,39,16,"nz-table",8),o.Wb(12,"nz-skeleton",9),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Hb(9),o.wc("ngModel",e.term),o.Hb(2),o.wc("ngIf",e.tableReady),o.Hb(1),o.wc("nzActive",!0)("nzLoading",e.verifDataReady))},directives:[v.d,v.m,v.p,c.n,g.a,L.c,L.g,L.h,L.b,L.f,L.e,c.m,n.d],pipes:[x.a],styles:["tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.7rem}@media(max-width:768px){tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.6rem}.input-hidden[_ngcontent-%COMP%]{display:none}}"]}),t})(),T=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Pb({type:t,selectors:[["app-formateur"]],decls:4,vars:0,consts:[[1,"content-wrapper"],[1,"content"],[1,"container-fluid"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"section",1),o.bc(2,"div",2),o.Wb(3,"router-outlet"),o.ac(),o.ac(),o.ac())},directives:[n.h],styles:[".active[_ngcontent-%COMP%]{font-weight:550}"]}),t})();var _=i("la+k"),N=i("bsYF"),V=i("VvmD"),W=i("XUh5");const j=function(t){return["/admin/formateur/show-formateur",t]},q=function(t){return["/admin/formateur/edit-formateur",t]};function U(t,e){if(1&t){const t=o.cc();o.bc(0,"tr"),o.bc(1,"td"),o.Rc(2),o.ac(),o.bc(3,"td"),o.Rc(4),o.ac(),o.bc(5,"td"),o.Rc(6),o.ac(),o.bc(7,"td"),o.Rc(8),o.ac(),o.bc(9,"td"),o.Rc(10),o.ac(),o.bc(11,"td"),o.Rc(12),o.ac(),o.bc(13,"td"),o.Rc(14),o.ac(),o.bc(15,"td"),o.bc(16,"button",15),o.Wb(17,"i",16),o.ac(),o.bc(18,"button",17),o.Wb(19,"i",18),o.ac(),o.bc(20,"button",19),o.mc("click",(function(){o.Gc(t);const i=e.$implicit;return o.pc(2).deleteFormateur(i.id)})),o.Wb(21,"i",20),o.ac(),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Hb(2),o.Sc(t.nom),o.Hb(2),o.Sc(t.prenom),o.Hb(2),o.Sc(t.email),o.Hb(2),o.Sc(t.tele),o.Hb(2),o.Sc(t.fonction),o.Hb(2),o.Sc(t.role),o.Hb(2),o.Sc(t.roleAdmin),o.Hb(2),o.wc("routerLink",o.Bc(9,j,t.id)),o.Hb(2),o.wc("routerLink",o.Bc(11,q,t.id))}}const $=function(){return{x:"800px"}};function X(t,e){if(1&t){const t=o.cc();o.bc(0,"nz-table",10,11),o.qc(2,"filter"),o.bc(3,"thead"),o.bc(4,"tr"),o.bc(5,"th"),o.Rc(6," Pr\xe9nom "),o.ac(),o.bc(7,"th"),o.Rc(8,"Nom"),o.ac(),o.bc(9,"th"),o.Rc(10,"Email"),o.ac(),o.bc(11,"th"),o.Rc(12,"T\xe9l\xe9phone"),o.ac(),o.bc(13,"th"),o.Rc(14,"Fonction"),o.ac(),o.bc(15,"th"),o.Rc(16,"Statut"),o.ac(),o.bc(17,"th"),o.Rc(18,"R\xf4le"),o.ac(),o.bc(19,"th",12),o.Rc(20,"Actions"),o.ac(),o.ac(),o.ac(),o.bc(21,"tbody"),o.Pc(22,U,22,13,"tr",13),o.ac(),o.bc(23,"tfoot"),o.bc(24,"tr"),o.bc(25,"td"),o.bc(26,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().firstname=e}))("keyup",(function(){return o.Gc(t),o.pc().searchFirstName()})),o.ac(),o.ac(),o.bc(27,"td"),o.bc(28,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().lasttname=e}))("keyup",(function(){return o.Gc(t),o.pc().searchLasttName()})),o.ac(),o.ac(),o.bc(29,"td"),o.bc(30,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().email=e}))("keyup",(function(){return o.Gc(t),o.pc().searchEmail()})),o.ac(),o.ac(),o.bc(31,"td"),o.bc(32,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().tele=e}))("keyup",(function(){return o.Gc(t),o.pc().searchTele()})),o.ac(),o.ac(),o.bc(33,"td"),o.bc(34,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().fonction=e}))("keyup",(function(){return o.Gc(t),o.pc().searchFonction()})),o.ac(),o.ac(),o.bc(35,"td"),o.bc(36,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().role=e}))("keyup",(function(){return o.Gc(t),o.pc().searchRole()})),o.ac(),o.ac(),o.bc(37,"td"),o.bc(38,"input",14),o.mc("ngModelChange",(function(e){return o.Gc(t),o.pc().roleAdmin=e}))("keyup",(function(){return o.Gc(t),o.pc().searchRoleAdmin()})),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=o.Fc(1),e=o.pc();o.wc("nzData",o.sc(2,12,e.listOfDisplayData,e.term))("nzScroll",o.Ac(15,$))("nzPageSize",10)("nzNoResult","Pas de r\xe9sultat"),o.Hb(22),o.wc("ngForOf",t.data),o.Hb(4),o.wc("ngModel",e.firstname),o.Hb(2),o.wc("ngModel",e.lasttname),o.Hb(2),o.wc("ngModel",e.email),o.Hb(2),o.wc("ngModel",e.tele),o.Hb(2),o.wc("ngModel",e.fonction),o.Hb(2),o.wc("ngModel",e.role),o.Hb(2),o.wc("ngModel",e.roleAdmin)}}let Y=(()=>{class t{constructor(t,e,i,c,o,n,r){this.formateurService=t,this.utilisateurService=e,this.sessionService=i,this.sessionExamenService=c,this.planningService=o,this.planningXEamenService=n,this.toastr=r,this.term="",this.firstname="",this.lasttname="",this.email="",this.tele="",this.fonction="",this.roleAdmin="",this.role="",this.verifDataReady=!0,this.tableReady=!1}ngOnInit(){this.fetchFormateur()}deleteFormateur(t){s.a.fire({title:"\xcates vous s\xfbr de vouloir supprimer cet instructeur ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Oui",denyButtonText:"Non"}).then(e=>{e.isConfirmed&&this.utilisateurService.deleteUtilisateurInstructeur(t).subscribe(t=>{t.success?(this.toastr.success("Succ\xe8s"),this.fetchFormateur()):this.toastr.error("Erreur",t.error)})})}fetchFormateur(){this.formateurService.getAllFormateur().subscribe(t=>{this.listOfData=t.results,this.tableReady=!0,this.verifDataReady=!1,this.listOfDisplayData=[...this.listOfData]})}DeleteFormateur(t,e){this.planningService.deletePlanning(e).subscribe(t=>{t.success?this.sessionService.deleteFormateurSession(e).subscribe(t=>{t.success||this.toastr.error("Erreur",t.error)}):this.toastr.error("Erreur",t.error)})}DeleteFormateurExamen(t){this.planningXEamenService.deletePlanning(t).subscribe(e=>{e.success?this.sessionExamenService.deleteFormateurSession(t).subscribe(t=>{t.success||this.toastr.error("Erreur",t.error)}):this.toastr.error("Erreur",e.error)})}searchFirstName(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchLasttName(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchEmail(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchTele(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchFonction(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchRole(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}searchRoleAdmin(){this.listOfDisplayData=this.listOfData.filter(t=>-1!==t.nom.toLowerCase().indexOf(this.firstname.toLowerCase())&&-1!==t.prenom.toLowerCase().indexOf(this.lasttname.toLowerCase())&&-1!==t.email.toLowerCase().indexOf(this.email.toLowerCase())&&-1!==t.tele.toLowerCase().indexOf(this.tele.toLowerCase())&&-1!==t.fonction.toLowerCase().indexOf(this.fonction.toLowerCase())&&-1!==t.role.toLowerCase().indexOf(this.role.toLowerCase())&&-1!==t.roleAdmin.toLowerCase().indexOf(this.roleAdmin.toLowerCase()))}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(u.a),o.Vb(P.a),o.Vb(_.a),o.Vb(N.a),o.Vb(V.a),o.Vb(W.a),o.Vb(l.b))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-list-formateur"]],decls:13,vars:4,consts:[[1,"row",2,"padding-top","50px !important"],[1,"col-12"],[1,"container"],[1,"mb-5","text-dark"],[1,"row"],[1,"col-sm-3"],[1,"form-inline","mb-2"],["type","text","name","term","placeholder","Recherche",1,"form-control",3,"ngModel","ngModelChange"],["nzTableLayout","fixed",3,"nzData","nzScroll","nzPageSize","nzNoResult",4,"ngIf"],[3,"nzActive","nzLoading"],["nzTableLayout","fixed",3,"nzData","nzScroll","nzPageSize","nzNoResult"],["nzTable",""],["nzWidth","20%"],[4,"ngFor","ngForOf"],["nz-input","","placeholder","Recherche","nzSize","default",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","keyup"],[1,"btn","btn-primary","mr-2","btn-sm",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"btn","btn-warning","text-white","mr-2","btn-sm",3,"routerLink"],[1,"fas","fa-edit"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"div",2),o.bc(3,"h4",3),o.Rc(4,"Instructeurs Actifs"),o.ac(),o.bc(5,"div"),o.bc(6,"div",4),o.bc(7,"div",5),o.bc(8,"div",6),o.bc(9,"input",7),o.mc("ngModelChange",(function(t){return e.term=t})),o.ac(),o.ac(),o.ac(),o.ac(),o.bc(10,"div"),o.Pc(11,X,39,16,"nz-table",8),o.Wb(12,"nz-skeleton",9),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Hb(9),o.wc("ngModel",e.term),o.Hb(2),o.wc("ngIf",e.tableReady),o.Hb(1),o.wc("nzActive",!0)("nzLoading",e.verifDataReady))},directives:[v.d,v.m,v.p,c.n,g.a,L.c,L.g,L.h,L.b,L.f,L.e,c.m,n.d],pipes:[x.a],styles:["tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.7rem}@media(max-width:768px){tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.6rem}.input-hidden[_ngcontent-%COMP%]{display:none}}"]}),t})();var K=i("lGQG"),Q=i("OzZK"),Z=i("RwU8"),J=i("C2AL");function tt(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Pr\xe9nom est obligatoire"),o.ac())}function et(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Pr\xe9nom est invalide"),o.ac())}function it(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Pr\xe9nom est invalide"),o.ac())}function ct(t,e){if(1&t&&(o.bc(0,"div",31),o.Pc(1,tt,2,0,"div",32),o.Pc(2,et,2,0,"div",32),o.Pc(3,it,2,0,"div",32),o.ac()),2&t){const t=o.pc();o.Hb(1),o.wc("ngIf",t.f.nom.errors.required),o.Hb(1),o.wc("ngIf",t.f.nom.errors.trimError),o.Hb(1),o.wc("ngIf",t.f.nom.errors.trimError2)}}function ot(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Nom est obligatoire"),o.ac())}function nt(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Nom est invalide"),o.ac())}function rt(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Nom est invalide"),o.ac())}function at(t,e){if(1&t&&(o.bc(0,"div",31),o.Pc(1,ot,2,0,"div",32),o.Pc(2,nt,2,0,"div",32),o.Pc(3,rt,2,0,"div",32),o.ac()),2&t){const t=o.pc();o.Hb(1),o.wc("ngIf",t.f.prenom.errors.required),o.Hb(1),o.wc("ngIf",t.f.prenom.errors.trimError),o.Hb(1),o.wc("ngIf",t.f.prenom.errors.trimError2)}}function st(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Email est obligatoire"),o.ac())}function lt(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Email est invalide"),o.ac())}function ut(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Email est invalide<"),o.ac())}function ft(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Email est invalide<"),o.ac())}function mt(t,e){if(1&t&&(o.bc(0,"div",31),o.Pc(1,st,2,0,"div",32),o.Pc(2,lt,2,0,"div",32),o.Pc(3,ut,2,0,"div",32),o.Pc(4,ft,2,0,"div",32),o.ac()),2&t){const t=o.pc();o.Hb(1),o.wc("ngIf",t.f.email.errors.required),o.Hb(1),o.wc("ngIf",t.f.email.errors.email),o.Hb(1),o.wc("ngIf",t.f.email.errors.trimError),o.Hb(1),o.wc("ngIf",t.f.email.errors.trimError2)}}function dt(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"T\xe9l\xe9phone est obligatoire"),o.ac())}function bt(t,e){if(1&t&&(o.bc(0,"div",31),o.Pc(1,dt,2,0,"div",32),o.ac()),2&t){const t=o.pc();o.Hb(1),o.wc("ngIf",t.f.tele.errors.required)}}function ht(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Fonction est obligatoire"),o.ac())}function pt(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Fonction est invalide"),o.ac())}function wt(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Fonction est invalide"),o.ac())}function Ct(t,e){if(1&t&&(o.bc(0,"div",31),o.Pc(1,ht,2,0,"div",32),o.Pc(2,pt,2,0,"div",32),o.Pc(3,wt,2,0,"div",32),o.ac()),2&t){const t=o.pc();o.Hb(1),o.wc("ngIf",t.f.fonction.errors.required),o.Hb(1),o.wc("ngIf",t.f.fonction.errors.trimError),o.Hb(1),o.wc("ngIf",t.f.fonction.errors.trimError2)}}const vt=function(t){return{"is-invalid":t}};let gt=(()=>{class t{constructor(t,e,i,c,o){this.formBuilder=t,this.router=e,this.toastr=i,this.formateurService=c,this.authService=o,this.submitted=!1,this.file=[],this.cv=[],this.isLoading=!1,this.trimValidator=t=>t.value.startsWith(" ")?{trimError:{value:"control has leading whitespace"}}:t.value.endsWith(" ")?{trimError2:{value:"control has trailing whitespace"}}:null}ngOnInit(){this.authService.getcurrentuser().subscribe(t=>{this.id=t.id}),this.FormateurForm=this.formBuilder.group({nom:["",[v.u.required,this.trimValidator]],prenom:["",[v.u.required,this.trimValidator]],email:["",[v.u.required,v.u.email,this.trimValidator]],tele:["",[v.u.required]],examinateur:[""],fonction:["",[v.u.required,this.trimValidator]]})}get f(){return this.FormateurForm.controls}onSubmit(){if(this.submitted=!0,this.FormateurForm.invalid)return;let t;switch(this.isLoading=!0,this.FormateurForm.value.examinateur){case!0:case"oui":t="oui";break;default:t="non"}const e={nom:this.FormateurForm.value.nom,prenom:this.FormateurForm.value.prenom,email:this.FormateurForm.value.email,tele:this.FormateurForm.value.tele,fonction:this.FormateurForm.value.fonction,examinateur:t};this.formateurService.saveFormateur(e).subscribe(t=>Object(C.b)(this,void 0,void 0,(function*(){t.success?(this.file&&(yield this.file.forEach(t=>{const i=new FormData;i.append("file",t),this.formateurService.saveCertifFormateur(e.email,this.id,i).subscribe(t=>{t.success||this.toastr.error("Erreur",t.error)})})),this.cv&&this.cv.forEach(t=>{const i=new FormData;i.append("file",t),this.formateurService.saveCvFormateur(e.email,this.id,i).subscribe(t=>{t.success||this.toastr.error("Erreur",t.error)})}),this.toastr.success("Succ\xe8s"),this.router.navigate(["/admin/formateur/list-formateur"])):(this.toastr.error("Erreur",t.error),this.isLoading=!1)})))}selectCertif(t){if(t){const e=t;for(let t=0;t<e.length;t++)this.file.push(e[t])}}selectcv(t){if(t){const e=t;for(let t=0;t<e.length;t++)this.cv.push(e[t])}}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(v.e),o.Vb(n.c),o.Vb(l.b),o.Vb(u.a),o.Vb(K.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-add-formateur"]],decls:53,vars:22,consts:[[1,"container-fluid"],[1,"text-right","mt-5",2,"padding-top","50px !important"],["routerLink","/admin/formateur/list-formateur",1,"btn","btn-success","mr-2"],[1,"fas","fa-arrow-alt-circle-left"],[1,"row","mb-2"],[1,"col-sm-12","text-center","mb-4"],[1,"add-title"],[1,"col-12","col-md-6","mx-auto"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["type","text","formControlName","nom","placeholder","Pr\xe9nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","prenom","placeholder","Nom",1,"form-control",3,"ngClass"],[1,"input-group-prepend"],[1,"input-group-text"],["type","email","formControlName","email","placeholder","Email",1,"form-control",3,"ngClass"],[1,"fas","fa-phone"],["type","number","formControlName","tele","placeholder","T\xe9l\xe9phone",1,"form-control",3,"ngClass"],["type","text","formControlName","fonction","placeholder","Fonction",1,"form-control",3,"ngClass"],[1,"mb-3","form-check"],[1,"form-check-label"],["type","checkbox","name","","formControlName","examinateur",1,"form-check-input"],[1,"mb-3"],["for","exampleFormControlFile1"],["type","file","name","file","multiple","multiple",3,"change"],["file",""],["type","file","name","cv","multiple","multiple",3,"change"],["cv",""],[1,"row"],[1,"col-12","mb-4","text-center"],["type","submit","nz-button","","nzType","primary","nzBlock","",3,"nzLoading"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,e){if(1&t){const t=o.cc();o.bc(0,"div",0),o.bc(1,"div",1),o.bc(2,"button",2),o.Wb(3,"i",3),o.Rc(4," Retour "),o.ac(),o.ac(),o.bc(5,"div",4),o.bc(6,"div",5),o.bc(7,"h1",6),o.Rc(8,"Ajouter un instructeur"),o.ac(),o.ac(),o.bc(9,"div",7),o.bc(10,"form",8),o.mc("ngSubmit",(function(){return e.onSubmit()})),o.bc(11,"div",9),o.Wb(12,"input",10),o.Pc(13,ct,4,3,"div",11),o.ac(),o.bc(14,"div",9),o.Wb(15,"input",12),o.Pc(16,at,4,3,"div",11),o.ac(),o.bc(17,"div",9),o.bc(18,"div",13),o.bc(19,"div",14),o.bc(20,"span"),o.Rc(21,"@"),o.ac(),o.ac(),o.ac(),o.Wb(22,"input",15),o.Pc(23,mt,5,4,"div",11),o.ac(),o.bc(24,"div",9),o.bc(25,"div",13),o.bc(26,"div",14),o.Wb(27,"span",16),o.ac(),o.ac(),o.Wb(28,"input",17),o.Pc(29,bt,2,1,"div",11),o.ac(),o.bc(30,"div",9),o.Wb(31,"input",18),o.Pc(32,Ct,4,3,"div",11),o.ac(),o.bc(33,"div",19),o.bc(34,"label",20),o.Wb(35,"input",21),o.Rc(36," Examinateur "),o.ac(),o.ac(),o.bc(37,"div",22),o.bc(38,"label",23),o.Rc(39,"Certification"),o.ac(),o.Wb(40,"br"),o.bc(41,"input",24,25),o.mc("change",(function(){o.Gc(t);const i=o.Fc(42);return e.selectCertif(i.files)})),o.ac(),o.ac(),o.bc(43,"div",22),o.bc(44,"label"),o.Rc(45,"CV"),o.ac(),o.Wb(46,"br"),o.bc(47,"input",26,27),o.mc("change",(function(){o.Gc(t);const i=o.Fc(48);return e.selectcv(i.files)})),o.ac(),o.ac(),o.bc(49,"div",28),o.bc(50,"div",29),o.bc(51,"button",30),o.Rc(52,"Enregistrer"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()}2&t&&(o.Hb(10),o.wc("formGroup",e.FormateurForm),o.Hb(2),o.wc("ngClass",o.Bc(12,vt,e.submitted&&e.f.nom.errors)),o.Hb(1),o.wc("ngIf",e.submitted&&e.f.nom.errors),o.Hb(2),o.wc("ngClass",o.Bc(14,vt,e.submitted&&e.f.prenom.errors)),o.Hb(1),o.wc("ngIf",e.submitted&&e.f.prenom.errors),o.Hb(6),o.wc("ngClass",o.Bc(16,vt,e.submitted&&e.f.email.errors)),o.Hb(1),o.wc("ngIf",e.submitted&&e.f.email.errors),o.Hb(5),o.wc("ngClass",o.Bc(18,vt,e.submitted&&e.f.tele.errors)),o.Hb(1),o.wc("ngIf",e.submitted&&e.f.tele.errors),o.Hb(2),o.wc("ngClass",o.Bc(20,vt,e.submitted&&e.f.fonction.errors)),o.Hb(1),o.wc("ngIf",e.submitted&&e.f.fonction.errors),o.Hb(19),o.wc("nzLoading",e.isLoading))},directives:[n.d,v.w,v.n,v.h,v.d,v.m,v.g,c.l,c.n,v.r,v.c,Q.a,Z.a,J.a],styles:["@media(max-width:768px){.add-title[_ngcontent-%COMP%]{font-size:2rem;margin-top:50px}.form-control[_ngcontent-%COMP%]{font-size:.8rem!important}}"]}),t})();var Lt=i("1kSV");function xt(t,e){if(1&t){const t=o.cc();o.bc(0,"div",31),o.bc(1,"button",32),o.mc("click",(function(){return(0,e.dismiss)("Cross click")})),o.bc(2,"span",33),o.Rc(3,"\xd7"),o.ac(),o.ac(),o.ac(),o.bc(4,"div",34),o.bc(5,"form",35),o.mc("ngSubmit",(function(){return o.Gc(t),o.pc().onSubmitcertif()})),o.bc(6,"div",36),o.bc(7,"p",37),o.bc(8,"b"),o.Rc(9,"Certification: "),o.ac(),o.ac(),o.bc(10,"input",38,39),o.mc("change",(function(){o.Gc(t);const e=o.Fc(11);return o.pc().selectCertif(e.files)})),o.ac(),o.ac(),o.bc(12,"div",40),o.bc(13,"button",41),o.Rc(14,"Enregistrer"),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=o.pc();o.Hb(13),o.wc("nzLoading",t.isLoadingCertification)}}function Ot(t,e){if(1&t){const t=o.cc();o.bc(0,"div",31),o.bc(1,"button",32),o.mc("click",(function(){return(0,e.dismiss)("Cross click")})),o.bc(2,"span",33),o.Rc(3,"\xd7"),o.ac(),o.ac(),o.ac(),o.bc(4,"div",34),o.bc(5,"form",35),o.mc("ngSubmit",(function(){return o.Gc(t),o.pc().onSubmitcv()})),o.bc(6,"div",36),o.bc(7,"p",37),o.bc(8,"b"),o.Rc(9,"Cv: "),o.ac(),o.ac(),o.bc(10,"input",42,43),o.mc("change",(function(){o.Gc(t);const e=o.Fc(11);return o.pc().selectcv(e.files)})),o.ac(),o.ac(),o.bc(12,"div",40),o.bc(13,"button",41),o.Rc(14,"Enregistrer"),o.ac(),o.ac(),o.ac(),o.ac()}if(2&t){const t=o.pc();o.Hb(13),o.wc("nzLoading",t.isLoadingCv)}}function Rt(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Pr\xe9nom est obligatoire"),o.ac())}function yt(t,e){if(1&t&&(o.bc(0,"div",44),o.Pc(1,Rt,2,0,"div",45),o.ac()),2&t){const t=o.pc();o.Hb(1),o.wc("ngIf",t.f.nom.errors.required)}}function Ft(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Nom est obligatoire"),o.ac())}function zt(t,e){if(1&t&&(o.bc(0,"div",44),o.Pc(1,Ft,2,0,"div",45),o.ac()),2&t){const t=o.pc();o.Hb(1),o.wc("ngIf",t.f.prenom.errors.required)}}function Pt(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Email est obligatoire"),o.ac())}function Ht(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Email est invalide"),o.ac())}function St(t,e){if(1&t&&(o.bc(0,"div",44),o.Pc(1,Pt,2,0,"div",45),o.Pc(2,Ht,2,0,"div",45),o.ac()),2&t){const t=o.pc();o.Hb(1),o.wc("ngIf",t.f.email.errors.required),o.Hb(1),o.wc("ngIf",t.f.email.errors.email)}}function Dt(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"T\xe9l\xe9phone est obligatoire"),o.ac())}function Mt(t,e){if(1&t&&(o.bc(0,"div",44),o.Pc(1,Dt,2,0,"div",45),o.ac()),2&t){const t=o.pc();o.Hb(1),o.wc("ngIf",t.f.tele.errors.required)}}function kt(t,e){1&t&&(o.bc(0,"div"),o.Rc(1,"Fonction est obligatoire"),o.ac())}function It(t,e){if(1&t&&(o.bc(0,"div",44),o.Pc(1,kt,2,0,"div",45),o.ac()),2&t){const t=o.pc();o.Hb(1),o.wc("ngIf",t.f.fonction.errors.required)}}function At(t,e){1&t&&(o.bc(0,"div",46),o.bc(1,"label",47),o.Wb(2,"input",48),o.Rc(3," Examinateur "),o.ac(),o.ac())}function Bt(t,e){if(1&t){const t=o.cc();o.bc(0,"div",49),o.bc(1,"p"),o.Rc(2),o.ac(),o.bc(3,"button",50),o.mc("click",(function(){o.Gc(t);const i=e.$implicit;return o.pc().deleteCertif(i.nom_certif,i.email)})),o.Wb(4,"i",51),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Hb(2),o.Tc(" ",null==t?null:t.nom_certif," ")}}function Et(t,e){if(1&t){const t=o.cc();o.bc(0,"div",49),o.bc(1,"p"),o.Rc(2),o.ac(),o.bc(3,"button",50),o.mc("click",(function(){o.Gc(t);const i=e.$implicit;return o.pc().deletedCv(i.nom_cv,i.email)})),o.Wb(4,"i",52),o.ac(),o.ac()}if(2&t){const t=e.$implicit;o.Hb(2),o.Tc(" ",null==t?null:t.nom_cv," ")}}const Gt=function(t){return{"is-invalid":t}};let Tt=(()=>{class t{constructor(t,e,i,c,o,n,r,a){this.formBuilder=t,this.router=e,this.toastr=i,this.formateurService=c,this.modalService=n,this.route=r,this.authService=a,this.submitted=!1,this.file=[],this.cv=[],this.isLoading=!1,this.isLoadingCertification=!1,this.isLoadingCv=!1,o.backdrop="static",o.keyboard=!1}open(t){this.modalService.open(t)}openCV(t){this.modalService.open(t)}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.authService.getcurrentuser().subscribe(t=>{this.idAdmin=t.id}),this.fetchCertifFormateur(this.id),this.fetchCvFormateur(this.id),this.formateurService.getFormateurById(this.id).subscribe(t=>{this.Result=t.result[0],this.editFormateurForm.patchValue({nom:this.Result.nom,prenom:this.Result.prenom,email:this.Result.email,tele:this.Result.tele,fonction:this.Result.fonction}),"oui"===this.Result.examinateur&&this.editFormateurForm.patchValue({examinateur:this.Result.examinateur})}),this.editFormateurForm=this.formBuilder.group({nom:["",[v.u.required]],prenom:["",[v.u.required]],email:["",[v.u.required,v.u.email]],tele:["",[v.u.required]],examinateur:[""],fonction:["",[v.u.required]]})}get f(){return this.editFormateurForm.controls}onSubmit(){if(this.submitted=!0,this.editFormateurForm.invalid)return;let t;switch(this.isLoading=!0,this.editFormateurForm.value.examinateur){case!0:case"oui":t="oui";break;default:t="non"}this.formateurService.editFormateur(this.id,{nom:this.editFormateurForm.value.nom,prenom:this.editFormateurForm.value.prenom,email:this.editFormateurForm.value.email,tele:this.editFormateurForm.value.tele,fonction:this.editFormateurForm.value.fonction,examinateur:t}).subscribe(t=>{t.success?(this.toastr.success("Succ\xe8s"),this.router.navigate(["/admin/formateur/list-formateur"])):(this.toastr.error("Erreur",t.error),this.isLoading=!1)})}fetchCertifFormateur(t){this.formateurService.getAllFormateurCertifById(t).subscribe(t=>{this.allCertif=t.result})}fetchCvFormateur(t){this.formateurService.getAllFormateurCvById(t).subscribe(t=>{this.allCv=t.result})}deleteCertif(t,e){s.a.fire({title:"\xcates vous s\xfbr de vouloir supprimer cette certification ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Oui",denyButtonText:"Non"}).then(i=>{i.isConfirmed&&this.formateurService.deleteCertifById(t,e).subscribe(t=>{t.success?(this.fetchCertifFormateur(this.id),this.toastr.success("Succ\xe8s")):this.toastr.error("Erreur",t)})})}deletedCv(t,e){s.a.fire({title:"\xcates vous s\xfbr de vouloir supprimer ce cv ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Oui",denyButtonText:"Non"}).then(i=>{i.isConfirmed&&this.formateurService.deleteCvById(t,e).subscribe(t=>{t.success?(this.fetchCvFormateur(this.id),this.toastr.success("Succ\xe8s")):this.toastr.error("Erreur",t)})})}onSubmitcertif(){return Object(C.b)(this,void 0,void 0,(function*(){if(this.file.length>0){this.isLoadingCertification=!0,this.modalService.dismissAll();const t=this.Result.email;let e=1;yield this.file.forEach((i,c,o)=>{const n=new FormData;n.append("file",i),this.formateurService.saveCertifFormateur(t,this.idAdmin,n).subscribe(t=>{t.success?1===e&&(this.toastr.success("Succ\xe8s"),e=2):(this.toastr.error("Erreur",t.error),this.isLoadingCertification=!1),c===o.length-1&&this.fetchCertifFormateur(this.id)})})}this.file=[]}))}onSubmitcv(){if(this.cv.length>0){this.isLoadingCv=!0,this.modalService.dismissAll();const t=this.Result.email;let e=1;this.cv.forEach((i,c,o)=>{const n=new FormData;n.append("file",i),this.formateurService.saveCvFormateur(t,this.idAdmin,n).subscribe(t=>{t.success?1===e&&(this.toastr.success("Succ\xe8s"),e=2):(this.toastr.error("Erreur",t.error),this.isLoadingCv=!1),c===o.length-1&&this.fetchCvFormateur(this.id)})})}this.cv=[]}selectCertif(t){if(this.file=[],t){const e=t;for(let t=0;t<e.length;t++)this.file.push(e[t])}}selectcv(t){if(this.cv=[],t){const e=t;for(let t=0;t<e.length;t++)this.cv.push(e[t])}}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(v.e),o.Vb(n.c),o.Vb(l.b),o.Vb(u.a),o.Vb(Lt.c),o.Vb(Lt.b),o.Vb(n.a),o.Vb(K.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-edit-formateur"]],decls:56,vars:25,consts:[[1,"container-fluid"],["content",""],["contentCV",""],[1,"text-right","mt-5",2,"padding-top","50px !important"],["routerLink","/admin/formateur/list-formateur",1,"btn","btn-success","mr-2"],[1,"fas","fa-arrow-alt-circle-left"],[1,"row","mb-2"],[1,"col-sm-12","text-center","mb-4"],[1,"edit-title"],[1,"col-12","col-md-6","mx-auto"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["type","text","formControlName","nom","placeholder","Pr\xe9nom",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","prenom","placeholder","Nom",1,"form-control",3,"ngClass"],[1,"input-group-prepend"],[1,"input-group-text"],["type","email","formControlName","email","placeholder","Email",1,"form-control",3,"ngClass"],[1,"fas","fa-phone"],["type","number","formControlName","tele","placeholder","T\xe9l\xe9phone",1,"form-control",3,"ngClass"],["type","text","formControlName","fonction","placeholder","Fonction",1,"form-control",3,"ngClass"],["class"," mb-3 form-check",4,"ngIf"],[1,"d-flex","justify-content-between"],[1,"text-muted","text-sm"],["type","button",1,"btn","btn-info","btn-sm","ml-2",3,"click"],[1,"fas","fa-plus"],["class"," mt-3 d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"my-2","d-flex","justify-content-between"],[1,"row"],[1,"col-12","my-4","text-center"],["type","submit","nz-button","","nzType","primary","nzBlock","",3,"nzLoading"],[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],[1,"mb-3"],[1,"text-sm"],["type","file","name","file","multiple","multiple",3,"change"],["file",""],[1,"modal-footer"],["type","submit","nz-button","","nzType","primary",3,"nzLoading"],["type","file","name","cv","multiple","multiple",3,"change"],["cv",""],[1,"invalid-feedback"],[4,"ngIf"],[1,"mb-3","form-check"],[1,"form-check-label"],["type","checkbox","name","","formControlName","examinateur",1,"form-check-input"],[1,"mt-3","d-flex","justify-content-between"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt"],[1,"fas","fa-trash-alt",2,"cursor","pointer"]],template:function(t,e){if(1&t){const t=o.cc();o.bc(0,"div",0),o.Pc(1,xt,15,1,"ng-template",null,1,o.Qc),o.Pc(3,Ot,15,1,"ng-template",null,2,o.Qc),o.bc(5,"div",3),o.bc(6,"button",4),o.Wb(7,"i",5),o.Rc(8," Retour "),o.ac(),o.ac(),o.bc(9,"div",6),o.bc(10,"div",7),o.bc(11,"h1",8),o.Rc(12," Modifier un instructeur"),o.ac(),o.ac(),o.bc(13,"div",9),o.bc(14,"form",10),o.mc("ngSubmit",(function(){return e.onSubmit()})),o.bc(15,"div",11),o.Wb(16,"input",12),o.Pc(17,yt,2,1,"div",13),o.ac(),o.bc(18,"div",11),o.Wb(19,"input",14),o.Pc(20,zt,2,1,"div",13),o.ac(),o.bc(21,"div",11),o.bc(22,"div",15),o.bc(23,"div",16),o.bc(24,"span"),o.Rc(25,"@"),o.ac(),o.ac(),o.ac(),o.Wb(26,"input",17),o.Pc(27,St,3,2,"div",13),o.ac(),o.bc(28,"div",11),o.bc(29,"div",15),o.bc(30,"div",16),o.Wb(31,"span",18),o.ac(),o.ac(),o.Wb(32,"input",19),o.Pc(33,Mt,2,1,"div",13),o.ac(),o.bc(34,"div",11),o.Wb(35,"input",20),o.Pc(36,It,2,1,"div",13),o.ac(),o.Pc(37,At,4,0,"div",21),o.bc(38,"div",22),o.bc(39,"p",23),o.bc(40,"b"),o.Rc(41,"Certification: "),o.ac(),o.ac(),o.bc(42,"button",24),o.mc("click",(function(){o.Gc(t);const i=o.Fc(2);return e.open(i)})),o.Wb(43,"i",25),o.ac(),o.ac(),o.Pc(44,Bt,5,1,"div",26),o.bc(45,"div",27),o.bc(46,"p",23),o.bc(47,"b"),o.Rc(48,"CV: "),o.ac(),o.ac(),o.bc(49,"button",24),o.mc("click",(function(){o.Gc(t);const i=o.Fc(4);return e.openCV(i)})),o.Wb(50,"i",25),o.ac(),o.ac(),o.Pc(51,Et,5,1,"div",26),o.bc(52,"div",28),o.bc(53,"div",29),o.bc(54,"button",30),o.Rc(55,"Enregistrer"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()}2&t&&(o.Hb(14),o.wc("formGroup",e.editFormateurForm),o.Hb(2),o.wc("ngClass",o.Bc(15,Gt,e.submitted&&e.f.nom.errors)),o.Hb(1),o.wc("ngIf",e.submitted&&e.f.nom.errors),o.Hb(2),o.wc("ngClass",o.Bc(17,Gt,e.submitted&&e.f.prenom.errors)),o.Hb(1),o.wc("ngIf",e.submitted&&e.f.prenom.errors),o.Hb(6),o.wc("ngClass",o.Bc(19,Gt,e.submitted&&e.f.email.errors)),o.Hb(1),o.wc("ngIf",e.submitted&&e.f.email.errors),o.Hb(5),o.wc("ngClass",o.Bc(21,Gt,e.submitted&&e.f.tele.errors)),o.Hb(1),o.wc("ngIf",e.submitted&&e.f.tele.errors),o.Hb(2),o.wc("ngClass",o.Bc(23,Gt,e.submitted&&e.f.fonction.errors)),o.Hb(1),o.wc("ngIf",e.submitted&&e.f.fonction.errors),o.Hb(1),o.wc("ngIf","interne"===(null==e.Result?null:e.Result.statutUtilisateur)),o.Hb(7),o.wc("ngForOf",e.allCertif),o.Hb(7),o.wc("ngForOf",e.allCv),o.Hb(3),o.wc("nzLoading",e.isLoading))},directives:[n.d,v.w,v.n,v.h,v.d,v.m,v.g,c.l,c.n,v.r,c.m,Q.a,Z.a,J.a,v.o,v.c],styles:["@media(max-width:768px){.edit-title[_ngcontent-%COMP%]{font-size:2rem;margin-top:50px}.form-control[_ngcontent-%COMP%]{font-size:.8rem!important}}"]}),t})();function _t(t,e){1&t&&(o.bc(0,"button",17),o.Wb(1,"i",18),o.Rc(2," Retour "),o.ac())}function Nt(t,e){1&t&&(o.bc(0,"button",19),o.Wb(1,"i",18),o.Rc(2," Retour "),o.ac())}function Vt(t,e){1&t&&(o.bc(0,"p",12),o.bc(1,"b"),o.Rc(2,"Certification: "),o.ac(),o.ac())}function Wt(t,e){if(1&t&&(o.bc(0,"span",22),o.Rc(1),o.ac()),2&t){const t=o.pc().$implicit;o.Hb(1),o.Tc(" Ajout\xe9e par ",t.nom_ajouter,"")}}function jt(t,e){if(1&t){const t=o.cc();o.bc(0,"p",11),o.Rc(1),o.bc(2,"span"),o.bc(3,"i",20),o.mc("click",(function(){o.Gc(t);const i=e.$implicit;return o.pc().downloadCertif(i.nom_certif,i.email)})),o.ac(),o.ac(),o.Pc(4,Wt,2,1,"span",21),o.ac()}if(2&t){const t=e.$implicit;o.Hb(1),o.Tc(" ",null==t?null:t.nom_certif," "),o.Hb(3),o.wc("ngIf",t.id_ajouter)}}function qt(t,e){1&t&&(o.bc(0,"p",12),o.bc(1,"b"),o.Rc(2,"CV: "),o.ac(),o.ac())}function Ut(t,e){if(1&t&&(o.bc(0,"span",22),o.Rc(1),o.ac()),2&t){const t=o.pc().$implicit;o.Hb(1),o.Tc(" Ajout\xe9e par ",t.nom_ajouter,"")}}function $t(t,e){if(1&t){const t=o.cc();o.bc(0,"p",11),o.Rc(1),o.bc(2,"span"),o.bc(3,"i",20),o.mc("click",(function(){o.Gc(t);const i=e.$implicit;return o.pc().downloadCv(i.nom_cv,i.email)})),o.ac(),o.ac(),o.Pc(4,Ut,2,1,"span",21),o.ac()}if(2&t){const t=e.$implicit;o.Hb(1),o.Tc(" ",null==t?null:t.nom_cv," "),o.Hb(3),o.wc("ngIf",t.id_ajouter)}}function Xt(t,e){if(1&t){const t=o.cc();o.bc(0,"div",23),o.bc(1,"div",24),o.bc(2,"a",25),o.mc("click",(function(){return o.Gc(t),o.pc().changePassword()})),o.Wb(3,"i",26),o.Rc(4," Changer mot de passe "),o.ac(),o.ac(),o.ac()}}let Yt=(()=>{class t{constructor(t,e,i){this.toastr=t,this.formateurService=e,this.route=i,this.allCertif=[],this.allUser=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.fetchFormateur(this.id),this.fetchAllUser()}changePassword(){s.a.fire({title:"\xcates vous s\xfbr de vouloir changer ce mot de passe ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Oui",denyButtonText:"Non"}).then(t=>{t.isConfirmed&&this.formateurService.changePassword(this.Result.id,this.Result.email).subscribe(t=>{t.success?this.toastr.success("Succ\xe8s"):this.toastr.error("Erreur",t.error)})})}fetchFormateur(t){this.formateurService.getFormateurById(t).subscribe(t=>{this.Result=t.result[0]})}fetchAllUser(){this.formateurService.getAllUser().subscribe(t=>{this.allUser=t.results,this.fetchCertifFormateur(this.id),this.fetchCvFormateur(this.id)})}fetchCertifFormateur(t){this.formateurService.getAllFormateurCertifById(t).subscribe(t=>{this.allCertif=t.result,this.allCertif&&(this.filtreAllCertif=this.allCertif.filter(t=>(this.ajouteur=[],null==t.id_ajouter||(this.ajouteur=this.allUser.filter(e=>e.id===t.id_ajouter),t.nom_ajouter=this.ajouteur[0].nom+" "+this.ajouteur[0].prenom),t)))})}fetchCvFormateur(t){this.formateurService.getAllFormateurCvById(t).subscribe(t=>{this.allCv=t.result,this.allCv&&(this.filtreAllCertif=this.allCv.filter(t=>(this.ajouteurCV=[],null==t.id_ajouter||(this.ajouteurCV=this.allUser.filter(e=>e.id===t.id_ajouter),t.nom_ajouter=this.ajouteurCV[0].nom+" "+this.ajouteurCV[0].prenom),t)))})}downloadCertif(t,e){s.a.fire({title:"\xcates vous s\xfbr de vouloir t\xe9l\xe9charger cette certification ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Oui",denyButtonText:"Non"}).then(i=>{i.isConfirmed&&this.formateurService.downloadCertifById(t,e).subscribe(e=>{const i=new Blob([e],{type:e.type}),c=window.URL.createObjectURL(i),o=document.createElement("a");o.href=c,o.download=t,o.click()})})}downloadCv(t,e){s.a.fire({title:"\xcates vous s\xfbr de vouloir t\xe9l\xe9charger ce CV ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Oui",denyButtonText:"Non"}).then(i=>{i.isConfirmed&&this.formateurService.downloadCvById(t,e).subscribe(e=>{const i=new Blob([e],{type:e.type}),c=window.URL.createObjectURL(i),o=document.createElement("a");o.href=c,o.download=t,o.click()})})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(l.b),o.Vb(u.a),o.Vb(n.a))},t.\u0275cmp=o.Pb({type:t,selectors:[["app-show-formateur"]],decls:28,vars:12,consts:[[1,"container-fluid"],[1,"text-right","mt-5",2,"padding-top","50px !important"],["routerLink","/admin/formateur/list-formateur","class","btn btn-success mr-2",4,"ngIf"],["routerLink","/admin/formateur/inactive/list-formateur-inactive","class","btn btn-success mr-2",4,"ngIf"],[1,"row","mb-2","mt-4"],[1,"col-12","col-sm-6","col-md-12","col-lg-12"],[1,"card","bg-light"],[1,"card-header","lead","text-muted","border-bottom-0"],[1,"card-body","pt-0"],[1,"row"],[1,"col-7"],[1,"lead"],[1,"text-muted","lead","text-sm"],["class","text-muted lead text-sm",4,"ngIf"],["class"," lead",4,"ngFor","ngForOf"],["class","lead",4,"ngFor","ngForOf"],["class","card-footer",4,"ngIf"],["routerLink","/admin/formateur/list-formateur",1,"btn","btn-success","mr-2"],[1,"fas","fa-arrow-alt-circle-left"],["routerLink","/admin/formateur/inactive/list-formateur-inactive",1,"btn","btn-success","mr-2"],[1,"fas","fa-download","text-success","ml-4",2,"cursor","pointer",3,"click"],["class","ml-2",4,"ngIf"],[1,"ml-2"],[1,"card-footer"],[1,"text-right"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"fas","fa-sync-alt"]],template:function(t,e){1&t&&(o.bc(0,"div",0),o.bc(1,"div",1),o.Pc(2,_t,3,0,"button",2),o.Pc(3,Nt,3,0,"button",3),o.ac(),o.bc(4,"div",4),o.bc(5,"div",5),o.bc(6,"div",6),o.bc(7,"div",7),o.Rc(8),o.ac(),o.bc(9,"div",8),o.bc(10,"div",9),o.bc(11,"div",10),o.bc(12,"h2",11),o.bc(13,"b"),o.Rc(14),o.ac(),o.ac(),o.bc(15,"p",12),o.bc(16,"b"),o.Rc(17,"\xc9mail: "),o.ac(),o.Rc(18),o.ac(),o.bc(19,"p",12),o.bc(20,"b"),o.Rc(21,"T\xe9l\xe9phone: "),o.ac(),o.Rc(22),o.ac(),o.Pc(23,Vt,3,0,"p",13),o.Pc(24,jt,5,2,"p",14),o.Pc(25,qt,3,0,"p",13),o.Pc(26,$t,5,2,"p",15),o.ac(),o.ac(),o.ac(),o.Pc(27,Xt,5,0,"div",16),o.ac(),o.ac(),o.ac(),o.ac()),2&t&&(o.Hb(2),o.wc("ngIf","active"===(null==e.Result?null:e.Result.statut)),o.Hb(1),o.wc("ngIf","inactive"===(null==e.Result?null:e.Result.statut)),o.Hb(5),o.Tc(" ",null==e.Result?null:e.Result.fonction," "),o.Hb(6),o.Uc("",null==e.Result?null:e.Result.prenom," ",null==e.Result?null:e.Result.nom,""),o.Hb(4),o.Tc(" ",null==e.Result?null:e.Result.email," "),o.Hb(4),o.Tc(" ",null==e.Result?null:e.Result.tele," "),o.Hb(1),o.wc("ngIf",e.allCertif),o.Hb(1),o.wc("ngForOf",e.allCertif),o.Hb(1),o.wc("ngIf",e.allCv),o.Hb(1),o.wc("ngForOf",e.allCv),o.Hb(1),o.wc("ngIf","active"===(null==e.Result?null:e.Result.statut)))},directives:[c.n,c.m,n.d],styles:[".lead[_ngcontent-%COMP%]{font-size:.9rem;font-weight:300}@media(max-width:768px){.lead[_ngcontent-%COMP%]{font-size:.8rem}}"]}),t})();const Kt=[{path:"",component:T,children:[{path:"list-formateur",component:Y},{path:"list-examinateur",component:k},{path:"add-formateur",component:gt},{path:"edit-formateur/:id",component:Tt},{path:"show-formateur/:id",component:Yt},{path:"show-examinateur/:id",component:w},{path:"list-formateur-inactive",component:G},{path:"list-examinateur-inactive",component:z}]},{path:"inactive",component:r,children:[{path:"show-formateur/:id",component:Yt},{path:"show-examinateur/:id",component:w},{path:"list-formateur-inactive",component:G},{path:"list-examinateur-inactive",component:z}]}];let Qt=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[n.g.forChild(Kt)],n.g]}),t})();var Zt=i("Nqz0"),Jt=i("FwiY"),te=i("oyxB");let ee=(()=>{class t{}return t.\u0275mod=o.Tb({type:t}),t.\u0275inj=o.Sb({factory:function(e){return new(e||t)},imports:[[c.c,Qt,v.s,v.i,x.b,Q.c,L.d,Zt.b,Jt.b,g.b,te.e]]}),t})()}}]);