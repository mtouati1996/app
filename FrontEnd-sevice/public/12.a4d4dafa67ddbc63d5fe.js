(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{KSja:function(t,r,n){"use strict";n.r(r),n.d(r,"FournisseurModule",(function(){return T}));var e=n("cZdB"),i=n("ofXK"),s=n("fXoL"),c=n("bVtK"),o=n("tyNb");let u=(()=>{class t{constructor(t,r){this.fournissurService=t,this.route=r,this.fournisseurs=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.fetchFournisseur()}fetchFournisseur(){this.fournissurService.getFournisseurById(this.id).subscribe(t=>{this.fournisseurs=t.result})}}return t.\u0275fac=function(r){return new(r||t)(s.Vb(c.a),s.Vb(o.a))},t.\u0275cmp=s.Pb({type:t,selectors:[["app-show-fournisseur"]],decls:17,vars:1,consts:[[1,"content-wrapper"],[1,"content"],[1,"container-fluid"],[1,"text-right","mt-5",2,"padding-top","50px !important"],["routerLink","/admin/fournisseur/list-fournisseur",1,"btn","btn-success","mr-2"],[1,"fas","fa-arrow-alt-circle-left"],[1,"row","mb-2","mt-4"],[1,"col-12","col-sm-6","col-md-12","col-lg-12"],[1,"card","bg-light"],[1,"card-body","pt-5"],[1,"row"],[1,"col-12"],[1,"lead","text-muted"]],template:function(t,r){1&t&&(s.bc(0,"div",0),s.bc(1,"section",1),s.bc(2,"div",2),s.bc(3,"div",3),s.bc(4,"button",4),s.Wb(5,"i",5),s.Rc(6," Retour "),s.ac(),s.ac(),s.bc(7,"div",6),s.bc(8,"div",7),s.bc(9,"div",8),s.bc(10,"div",9),s.bc(11,"div",10),s.bc(12,"div",11),s.bc(13,"p",12),s.Rc(14," Nom du Fournisseur: "),s.bc(15,"b"),s.Rc(16),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac()),2&t&&(s.Hb(16),s.Sc(null==r.fournisseurs[0]?null:r.fournisseurs[0].nom_fournisseur))},directives:[o.d],styles:[".lead[_ngcontent-%COMP%]{font-size:1rem;font-weight:300}@media(max-width:768px){.lead[_ngcontent-%COMP%]{font-size:.8rem}}"]}),t})();var a=n("3Pt+"),d=n("5eHb"),b=n("OzZK"),f=n("RwU8"),l=n("C2AL");function m(t,r){1&t&&(s.bc(0,"div"),s.Rc(1,"Nom du Fournisseur est obligatoire"),s.ac())}function h(t,r){1&t&&(s.bc(0,"div"),s.Rc(1,"Nom du Fournisseur est invalide"),s.ac())}function p(t,r){1&t&&(s.bc(0,"div"),s.Rc(1,"Nom du Fournisseur est invalide"),s.ac())}function g(t,r){if(1&t&&(s.bc(0,"div",17),s.Pc(1,m,2,0,"div",18),s.Pc(2,h,2,0,"div",18),s.Pc(3,p,2,0,"div",18),s.ac()),2&t){const t=s.pc();s.Hb(1),s.wc("ngIf",t.f.nom_fournisseur.errors.required),s.Hb(1),s.wc("ngIf",t.f.nom_fournisseur.errors.trimError),s.Hb(1),s.wc("ngIf",t.f.nom_fournisseur.errors.trimError2)}}const v=function(t){return{"is-invalid":t}};let w=(()=>{class t{constructor(t,r,n,e){this.formBuilder=t,this.router=r,this.toastr=n,this.fournisseurService=e,this.submitted=!1,this.isLoading=!1,this.trimValidator=t=>t.value.startsWith(" ")?{trimError:{value:"control has leading whitespace"}}:t.value.endsWith(" ")?{trimError2:{value:"control has trailing whitespace"}}:null}ngOnInit(){this.FournisseurForm=this.formBuilder.group({nom_fournisseur:["",[a.u.required,this.trimValidator]]})}get f(){return this.FournisseurForm.controls}onSubmit(){this.submitted=!0,this.FournisseurForm.invalid||(this.isLoading=!0,this.fournisseurService.saveFournisseur({nom_fournisseur:this.FournisseurForm.value.nom_fournisseur}).subscribe(t=>{t.success?(this.toastr.success("Succ\xe8s"),this.router.navigate(["/admin/fournisseur/list-fournisseur"])):(this.toastr.error("Erreur",t.error),this.isLoading=!1)}))}}return t.\u0275fac=function(r){return new(r||t)(s.Vb(a.e),s.Vb(o.c),s.Vb(d.b),s.Vb(c.a))},t.\u0275cmp=s.Pb({type:t,selectors:[["app-add-fournisseur"]],decls:20,vars:6,consts:[[1,"content-wrapper"],[1,"content"],[1,"container-fluid"],[1,"text-right","mt-5",2,"padding-top","50px !important"],["routerLink","/admin/fournisseur/list-fournisseur",1,"btn","btn-success","mr-2"],[1,"fas","fa-arrow-alt-circle-left"],[1,"row","mb-2"],[1,"col-sm-12","text-center","mb-4"],[1,"add-title"],[1,"col-12","col-md-6","mx-auto"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["type","text","formControlName","nom_fournisseur","placeholder","Nom du Fournisseur",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"row"],[1,"col-12","mb-4","text-center"],["type","submit","nz-button","","nzType","primary","nzBlock","",3,"nzLoading"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,r){1&t&&(s.bc(0,"div",0),s.bc(1,"section",1),s.bc(2,"div",2),s.bc(3,"div",3),s.bc(4,"button",4),s.Wb(5,"i",5),s.Rc(6," Retour "),s.ac(),s.ac(),s.bc(7,"div",6),s.bc(8,"div",7),s.bc(9,"h1",8),s.Rc(10,"Ajouter un fournisseur"),s.ac(),s.ac(),s.bc(11,"div",9),s.bc(12,"form",10),s.mc("ngSubmit",(function(){return r.onSubmit()})),s.bc(13,"div",11),s.Wb(14,"input",12),s.Pc(15,g,4,3,"div",13),s.ac(),s.bc(16,"div",14),s.bc(17,"div",15),s.bc(18,"button",16),s.Rc(19,"Enregistrer"),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac()),2&t&&(s.Hb(12),s.wc("formGroup",r.FournisseurForm),s.Hb(2),s.wc("ngClass",s.Bc(4,v,r.submitted&&r.f.nom_fournisseur.errors)),s.Hb(1),s.wc("ngIf",r.submitted&&r.f.nom_fournisseur.errors),s.Hb(3),s.wc("nzLoading",r.isLoading))},directives:[o.d,a.w,a.n,a.h,a.d,a.m,a.g,i.l,i.n,b.a,f.a,l.a],styles:["@media(max-width:768px){.add-title[_ngcontent-%COMP%]{font-size:2rem;margin-top:50px}.form-control[_ngcontent-%COMP%]{font-size:.8rem!important}}"]}),t})();var z=n("mrSG"),F=n("PSD3"),y=n.n(F),P=n("OtHt"),R=n("rMZv");function O(t,r){if(1&t){const t=s.cc();s.bc(0,"tr"),s.bc(1,"td",15),s.Rc(2),s.ac(),s.bc(3,"td",15),s.bc(4,"button",17),s.mc("click",(function(){s.Gc(t);const n=r.$implicit;return s.pc(2).FournisseurReturnActive(n.id)})),s.Wb(5,"i",18),s.ac(),s.ac(),s.ac()}if(2&t){const t=r.$implicit;s.Hb(2),s.Sc(t.nom_fournisseur)}}function _(t,r){if(1&t&&(s.bc(0,"nz-table",13,14),s.qc(2,"filter"),s.bc(3,"thead"),s.bc(4,"tr"),s.bc(5,"th",15),s.Rc(6,"Nom du Fournisseur"),s.ac(),s.bc(7,"th",15),s.Rc(8,"Actions"),s.ac(),s.ac(),s.ac(),s.bc(9,"tbody"),s.Pc(10,O,6,1,"tr",16),s.ac(),s.ac()),2&t){const t=s.Fc(1),r=s.pc();s.wc("nzData",s.sc(2,4,r.listOfDisplayData,r.term))("nzPageSize",10)("nzNoResult","Pas de r\xe9sultat"),s.Hb(10),s.wc("ngForOf",t.data)}}let S=(()=>{class t{constructor(t,r){this.fournissurService=t,this.toastr=r,this.term="",this.verifDataReady=!0,this.tableReady=!1}ngOnInit(){this.fetchFournisseur()}fetchFournisseur(){this.fournissurService.getAllFournisseurInactive().subscribe(t=>{this.listOfData=t.results,this.tableReady=!0,this.verifDataReady=!1,this.listOfDisplayData=[...this.listOfData]})}FournisseurReturnActive(t){y.a.fire({title:"\xcates vous s\xfbr de vouloir activer ce fournisseur ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Oui",denyButtonText:"Non"}).then(r=>{r.isConfirmed&&this.fournissurService.ReturnFournisseurActive(t).subscribe(t=>Object(z.b)(this,void 0,void 0,(function*(){t.success?(this.toastr.success("Succ\xe8s"),this.fetchFournisseur()):this.toastr.error("Erreur",t.error)})))})}}return t.\u0275fac=function(r){return new(r||t)(s.Vb(c.a),s.Vb(d.b))},t.\u0275cmp=s.Pb({type:t,selectors:[["app-list-fournisseur-inactive"]],decls:16,vars:4,consts:[[1,"content-wrapper"],[1,"content"],[1,"container-fluid"],[1,"row",2,"padding-top","50px !important"],[1,"col-12"],[1,"container"],[1,"mb-5"],[1,"row"],[1,"col-sm-3"],[1,"form-inline","mb-2"],["type","text","name","term","placeholder","Recherche",1,"form-control",3,"ngModel","ngModelChange"],["nzTableLayout","fixed",3,"nzData","nzPageSize","nzNoResult",4,"ngIf"],[3,"nzActive","nzLoading"],["nzTableLayout","fixed",3,"nzData","nzPageSize","nzNoResult"],["nzTable",""],["nzAlign","center"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning","text-white","btn-sm",3,"click"],[1,"fas","fa-edit"]],template:function(t,r){1&t&&(s.bc(0,"div",0),s.bc(1,"section",1),s.bc(2,"div",2),s.bc(3,"div",3),s.bc(4,"div",4),s.bc(5,"div",5),s.bc(6,"h4",6),s.Rc(7,"Fournisseurs Inactifs"),s.ac(),s.bc(8,"div"),s.bc(9,"div",7),s.bc(10,"div",8),s.bc(11,"div",9),s.bc(12,"input",10),s.mc("ngModelChange",(function(t){return r.term=t})),s.ac(),s.ac(),s.ac(),s.ac(),s.bc(13,"div"),s.Pc(14,_,11,7,"nz-table",11),s.Wb(15,"nz-skeleton",12),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac()),2&t&&(s.Hb(12),s.wc("ngModel",r.term),s.Hb(2),s.wc("ngIf",r.tableReady),s.Hb(1),s.wc("nzActive",!0)("nzLoading",r.verifDataReady))},directives:[a.d,a.m,a.p,i.n,P.a,R.c,R.g,R.h,R.b,R.f,R.a,R.e,i.m],pipes:[e.a],styles:["tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.9rem}@media(max-width:768px){tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.6rem}.input-hidden[_ngcontent-%COMP%]{display:none}}"]}),t})();var x=n("VvmD");const C=function(t){return["/admin/fournisseur/show-fournisseur",t]},M=function(t){return["/admin/fournisseur/edit-fournisseur",t]};function L(t,r){if(1&t){const t=s.cc();s.bc(0,"tr"),s.bc(1,"td",17),s.Rc(2),s.ac(),s.bc(3,"td",17),s.bc(4,"button",19),s.Wb(5,"i",20),s.ac(),s.bc(6,"button",21),s.Wb(7,"i",22),s.ac(),s.bc(8,"button",23),s.mc("click",(function(){s.Gc(t);const n=r.$implicit;return s.pc(2).deleteFournisseur(n.id)})),s.Wb(9,"i",24),s.ac(),s.ac(),s.ac()}if(2&t){const t=r.$implicit;s.Hb(2),s.Sc(t.nom_fournisseur),s.Hb(2),s.wc("routerLink",s.Bc(3,C,t.id)),s.Hb(2),s.wc("routerLink",s.Bc(5,M,t.id))}}function D(t,r){if(1&t&&(s.bc(0,"nz-table",15,16),s.qc(2,"filter"),s.bc(3,"thead"),s.bc(4,"tr"),s.bc(5,"th",17),s.Rc(6,"Nom du Fournisseur"),s.ac(),s.bc(7,"th",17),s.Rc(8,"Actions"),s.ac(),s.ac(),s.ac(),s.bc(9,"tbody"),s.Pc(10,L,10,7,"tr",18),s.ac(),s.ac()),2&t){const t=s.Fc(1),r=s.pc();s.wc("nzData",s.sc(2,4,r.listOfDisplayData,r.term))("nzPageSize",10)("nzNoResult","Pas de r\xe9sultat"),s.Hb(10),s.wc("ngForOf",t.data)}}let H=(()=>{class t{constructor(t,r,n){this.fournissurService=t,this.planningService=r,this.toastr=n,this.term="",this.verifDataReady=!0,this.tableReady=!1}ngOnInit(){this.fetchFournisseur()}deleteFournisseur(t){y.a.fire({title:"\xcates vous s\xfbr de vouloir supprimer ce fournisseur ?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Oui",denyButtonText:"Non"}).then(r=>{r.isConfirmed&&this.fournissurService.deleteFournisseur(t).subscribe(r=>{r.success?(this.planningService.editPlanningForDeleteProvider(t).subscribe(t=>{t.success||this.toastr.error("Erreur",t.error)}),this.toastr.success("Succ\xe8s"),this.fetchFournisseur()):this.toastr.error("Erreur",r.error)})})}fetchFournisseur(){this.fournissurService.getAllFournisseurWithoutAdress().subscribe(t=>{this.listOfData=t.results,this.tableReady=!0,this.verifDataReady=!1,this.listOfDisplayData=[...this.listOfData]})}}return t.\u0275fac=function(r){return new(r||t)(s.Vb(c.a),s.Vb(x.a),s.Vb(d.b))},t.\u0275cmp=s.Pb({type:t,selectors:[["app-list-fournisseur"]],decls:20,vars:4,consts:[[1,"content-wrapper"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"container"],[1,"text-right"],["routerLink","/admin/fournisseur/add-fournisseur",1,"btn","btn-info","mt-5","mb-4"],[1,"fas","fa-plus"],[1,"mb-5"],[1,"col-sm-3"],[1,"form-inline","mb-2"],["type","text","name","term","placeholder","Recherche",1,"form-control",3,"ngModel","ngModelChange"],["nzTableLayout","fixed",3,"nzData","nzPageSize","nzNoResult",4,"ngIf"],[3,"nzActive","nzLoading"],["nzTableLayout","fixed",3,"nzData","nzPageSize","nzNoResult"],["nzTable",""],["nzAlign","center"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary","mr-2","btn-sm",3,"routerLink"],[1,"fas","fa-info-circle"],[1,"btn","btn-warning","text-white","mr-2","btn-sm",3,"routerLink"],[1,"fas","fa-edit"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt"]],template:function(t,r){1&t&&(s.bc(0,"div",0),s.bc(1,"section",1),s.bc(2,"div",2),s.bc(3,"div",3),s.bc(4,"div",4),s.bc(5,"div",5),s.bc(6,"div",6),s.bc(7,"button",7),s.Wb(8,"i",8),s.Rc(9," Ajouter un Fournisseur "),s.ac(),s.ac(),s.bc(10,"h4",9),s.Rc(11,"Fournisseurs Actifs"),s.ac(),s.bc(12,"div"),s.bc(13,"div",3),s.bc(14,"div",10),s.bc(15,"div",11),s.bc(16,"input",12),s.mc("ngModelChange",(function(t){return r.term=t})),s.ac(),s.ac(),s.ac(),s.ac(),s.bc(17,"div"),s.Pc(18,D,11,7,"nz-table",13),s.Wb(19,"nz-skeleton",14),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac()),2&t&&(s.Hb(16),s.wc("ngModel",r.term),s.Hb(2),s.wc("ngIf",r.tableReady),s.Hb(1),s.wc("nzActive",!0)("nzLoading",r.verifDataReady))},directives:[o.d,a.d,a.m,a.p,i.n,P.a,R.c,R.g,R.h,R.b,R.f,R.a,R.e,i.m],pipes:[e.a],styles:["tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.9rem}@media(max-width:768px){tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.6rem}.input-hidden[_ngcontent-%COMP%]{display:none}}"]}),t})();function I(t,r){1&t&&(s.bc(0,"div"),s.Rc(1,"Nom du Fournisseur est obligatoire"),s.ac())}function k(t,r){if(1&t&&(s.bc(0,"div",17),s.Pc(1,I,2,0,"div",18),s.ac()),2&t){const t=s.pc();s.Hb(1),s.wc("ngIf",t.f.nom_fournisseur.errors.required)}}const B=function(t){return{"is-invalid":t}},V=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=s.Pb({type:t,selectors:[["app-fournisseur"]],decls:1,vars:0,template:function(t,r){1&t&&s.Wb(0,"router-outlet")},directives:[o.h],styles:[""]}),t})(),children:[{path:"list-fournisseur",component:H},{path:"list-fournisseur-inactive",component:S},{path:"add-fournisseur",component:w},{path:"edit-fournisseur/:id",component:(()=>{class t{constructor(t,r,n,e,i){this.formBuilder=t,this.router=r,this.toastr=n,this.fournisseurService=e,this.route=i,this.submitted=!1,this.submittedAdress=!1,this.isLoading=!1}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.fetchFournisseur(),this.fournisseurService.getFournisseurById(this.id).subscribe(t=>{this.Result=t.result[0],this.FournisseurForm.patchValue({nom_fournisseur:this.Result.nom_fournisseur})}),this.FournisseurForm=this.formBuilder.group({nom_fournisseur:["",[a.u.required]]})}get f(){return this.FournisseurForm.controls}onSubmit(){this.submitted=!0,this.FournisseurForm.invalid||(this.isLoading=!0,this.fournisseurService.updateFournisseur(this.id,{nom_fournisseur:this.FournisseurForm.value.nom_fournisseur}).subscribe(t=>{t.success?(this.toastr.success("Succ\xe8s"),this.router.navigate(["/admin/fournisseur/list-fournisseur"])):(this.toastr.error("Erreur",t.error),this.isLoading=!1)}))}fetchFournisseur(){this.fournisseurService.getFournisseurById(this.id).subscribe(t=>{this.fournisseurs=t.result})}}return t.\u0275fac=function(r){return new(r||t)(s.Vb(a.e),s.Vb(o.c),s.Vb(d.b),s.Vb(c.a),s.Vb(o.a))},t.\u0275cmp=s.Pb({type:t,selectors:[["app-edit-fournisseur"]],decls:20,vars:6,consts:[[1,"content-wrapper"],[1,"content"],[1,"container-fluid"],[1,"text-right","mt-5",2,"padding-top","50px !important"],["routerLink","/admin/fournisseur/list-fournisseur",1,"btn","btn-success","mr-2"],[1,"fas","fa-arrow-alt-circle-left"],[1,"row","mb-2"],[1,"col-sm-12","text-center","mb-4"],[1,"edit-title"],[1,"col-12","col-md-6","mx-auto"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["type","text","formControlName","nom_fournisseur","placeholder","Nom du Fournisseur",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"row"],[1,"col-12","mb-4","text-center"],["type","submit","nz-button","","nzType","primary","nzBlock","",3,"nzLoading"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,r){1&t&&(s.bc(0,"div",0),s.bc(1,"section",1),s.bc(2,"div",2),s.bc(3,"div",3),s.bc(4,"button",4),s.Wb(5,"i",5),s.Rc(6," Retour "),s.ac(),s.ac(),s.bc(7,"div",6),s.bc(8,"div",7),s.bc(9,"h1",8),s.Rc(10,"Modifier un fournisseur"),s.ac(),s.ac(),s.bc(11,"div",9),s.bc(12,"form",10),s.mc("ngSubmit",(function(){return r.onSubmit()})),s.bc(13,"div",11),s.Wb(14,"input",12),s.Pc(15,k,2,1,"div",13),s.ac(),s.bc(16,"div",14),s.bc(17,"div",15),s.bc(18,"button",16),s.Rc(19,"Enregistrer"),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac(),s.ac()),2&t&&(s.Hb(12),s.wc("formGroup",r.FournisseurForm),s.Hb(2),s.wc("ngClass",s.Bc(4,B,r.submitted&&r.f.nom_fournisseur.errors)),s.Hb(1),s.wc("ngIf",r.submitted&&r.f.nom_fournisseur.errors),s.Hb(3),s.wc("nzLoading",r.isLoading))},directives:[o.d,a.w,a.n,a.h,a.d,a.m,a.g,i.l,i.n,b.a,f.a,l.a],styles:["@media(max-width:768px){.edit-title[_ngcontent-%COMP%]{font-size:2rem;margin-top:50px}.form-control[_ngcontent-%COMP%]{font-size:.8rem!important}}"]}),t})()},{path:"show-fournisseur/:id",component:u}]}];let N=(()=>{class t{}return t.\u0275mod=s.Tb({type:t}),t.\u0275inj=s.Sb({factory:function(r){return new(r||t)},imports:[[o.g.forChild(V)],o.g]}),t})();var A=n("PTRe"),W=n("1kSV");let T=(()=>{class t{}return t.\u0275mod=s.Tb({type:t}),t.\u0275inj=s.Sb({factory:function(r){return new(r||t)},imports:[[i.c,N,a.i,a.s,e.b,W.d,R.d,A.c,P.b,b.c]]}),t})()}}]);